@model Gymify.Application.ViewModels.UserProfile.UserProfileViewModel
@{
    ViewData["Title"] = "Profile";
}

<div class="userProfileContainer" style="background-image: url('@Model.UserEquipmentDto.BackgroundUrl'); background-size: cover; background-position: center;">
    <div class="userProfileCustoms">
        <div class="userProfileAvatarBlock">
            <div class="avatarFrame">
                <img src="@Model.UserEquipmentDto.FrameUrl" alt="Frame" class="frameImage"/>
                <img src="@Model.UserEquipmentDto.AvatarUrl" alt="Avatar" class="avatarImage"/>
            </div>
        </div>

        <div class="userProfileInfoBlock">
                @if (Model.Editable == true)
                {
                    <button class="userProfileEditButton scaleButton">Edit</button>
                }
            <div class="userProfileName">@Model.UserName</div>
            <div class="userProfileTitle">@Model.Title</div>
        </div>
    </div>


    <div class="userProfileAchivmentBlock">
    <h2 class="userProfileAchivmentTitle">Achievements</h2>

    <ul class="userProfileAchivmentsList">
            @if (Model.Achievements != null && Model.Achievements.Any())
            {
                foreach (var a in Model.Achievements)
                {
                        <li class="userProfileAchivmentItem" title="@a.UnlockedAt?.ToString("g")">
                            <div class="achievementContent">
                                <img src="@a.IconUrl" class="achievementIcon" />

                                <div class="achievementText">
                                    <span class="achievementName">@a.Name</span>
                                    <small class="achievementDate">
                                    @a.UnlockedAt?.ToString("dd MMM yyyy")
                                    </small>
                                </div>
                            </div>
                        </li>
                }
            }
            else
            {
                <p>You haven't unlocked any achievements yet.</p>
            }
    </ul>
    </div>

    <div class="userProfileLastTrains">
        <h2 class="userProfileTrainsTitle">My last trainings</h2>

        <ul class="userProfileTrainsList">
            @if (Model.Workouts != null && Model.Workouts.Any())
            {
                foreach (var workout in Model.Workouts)
                {
                            <li class="userProfileTrain" title="@workout.CreatedAt.ToString("g")">
                                <a asp-controller="Workouts" asp-action="Details" asp-route-id="@workout.Id" style="text-decoration:none; color:inherit; display:flex; flex-direction:column; align-items:center; justify-content:center; height: 100%; width: 100%;">
                                    <span style="font-weight:bold; font-size:16px; text-align:center;">@workout.Name</span>
                                    <small style="font-size:12px; color:#666; margin-top:5px;">@workout.CreatedAt.ToString("dd MMM yyyy")</small>
                                </a>
                            </li>
                }
            }
            else
            {
                    <p>You haven't completed any workouts yet. Time to start!</p>
            }
        </ul>
    </div>

    <div class="userProfileComments">
        Comments Soon...
    </div>
</div>
