@using Microsoft.AspNetCore.Mvc.Localization
@inject IViewLocalizer Localizer

@{
    ViewData["Title"] = Localizer["PageTitle"];
}

<div class="dashboard-wrapper">

    <div class="faq-header">
        <h1 class="faq-title">@Localizer["WelcomeTitle"]</h1>
        <p class="faq-subtitle">
            @Localizer["WelcomeSubtitle"]
        </p>
    </div>

    @* --- Section: Getting Started --- *@
    <div class="faq-section">
        <h2 class="faq-section-title">@Localizer["Section_GettingStarted"]</h2>
        
        <div class="faq-item">
            <div class="faq-question">
                @Localizer["Q_WhatIsGymify"]
                <i class="fa-solid fa-chevron-down faq-icon"></i>
            </div>
            <div class="faq-answer">
                <p>@Localizer["A_WhatIsGymify"]</p>
            </div>
        </div>

        <div class="faq-item">
            <div class="faq-question">
                @Localizer["Q_IsItFree"]
                <i class="fa-solid fa-chevron-down faq-icon"></i>
            </div>
            <div class="faq-answer">
                <p>@Localizer["A_IsItFree"]</p>
            </div>
        </div>
    </div>

    @* --- Section: Workouts & Tracking --- *@
    <div class="faq-section">
        <h2 class="faq-section-title">@Localizer["Section_Workouts"]</h2>

        <div class="faq-item">
            <div class="faq-question">
                @Localizer["Q_CreateWorkout"]
                <i class="fa-solid fa-chevron-down faq-icon"></i>
            </div>
            <div class="faq-answer">
                <p>@Localizer["A_CreateWorkout_Intro"]</p>
                <ul>
                    <li>@Localizer["A_CreateWorkout_Step1"]</li>
                    <li>@Localizer["A_CreateWorkout_Step2"]</li>
                    <li>@Localizer["A_CreateWorkout_Step3"]</li>
                    <li>@Localizer["A_CreateWorkout_Step4"]</li>
                    <li>@Localizer["A_CreateWorkout_Step5"]</li>
                </ul>
            </div>
        </div>

        <div class="faq-item">
            <div class="faq-question">
                @Localizer["Q_EditWorkout"]
                <i class="fa-solid fa-chevron-down faq-icon"></i>
            </div>
            <div class="faq-answer">
                <p>@Localizer["A_EditWorkout"]</p>
            </div>
        </div>
    </div>

    @* --- Section: Leveling Up & Rewards --- *@
    <div class="faq-section">
        <h2 class="faq-section-title">@Localizer["Section_Rewards"]</h2>

        <div class="faq-item">
            <div class="faq-question">
                @Localizer["Q_EarnXP"]
                <i class="fa-solid fa-chevron-down faq-icon"></i>
            </div>
            <div class="faq-answer">
                <p>@Localizer["A_EarnXP"]</p>
            </div>
        </div>

        <div class="faq-item">
            <div class="faq-question">
                @Localizer["Q_CasesInventory"]
                <i class="fa-solid fa-chevron-down faq-icon"></i>
            </div>
            <div class="faq-answer">
                <p>@Localizer["A_CasesInventory_Intro"]</p>
                <ul>
                    <li>@Localizer["A_CasesInventory_Item1"]</li>
                    <li>@Localizer["A_CasesInventory_Item2"]</li>
                    <li>@Localizer["A_CasesInventory_Item3"]</li>
                </ul>
                <p>@Localizer["A_CasesInventory_Outro"]</p>
            </div>
        </div>

        <div class="faq-item">
            <div class="faq-question">
                @Localizer["Q_Achievements"]
                <i class="fa-solid fa-chevron-down faq-icon"></i>
            </div>
            <div class="faq-answer">
                <p>@Localizer["A_Achievements"]</p>
            </div>
        </div>
    </div>

    <div style="text-align: center; margin-top: 60px; padding: 40px; background: #fff; border-radius: 16px; box-shadow: 0 10px 30px rgba(0,0,0,0.05);">
        <h3 style="margin-bottom: 10px;">@Localizer["Support_Title"]</h3>
        <p style="color: #777; margin-bottom: 20px;">@Localizer["Support_Subtitle"]</p>
        <a href="#" class="gym-btn gym-btn-primary">@Localizer["Support_Btn"]</a>
    </div>

</div>

@section Scripts {
    <script>
        // Скрипт залишається без змін, оскільки він не містить видимого тексту
        document.addEventListener('DOMContentLoaded', function () {
            const items = document.querySelectorAll('.faq-item');

            items.forEach(item => {
                const question = item.querySelector('.faq-question');
                const answer = item.querySelector('.faq-answer');

                question.addEventListener('click', () => {
                    if (item.classList.contains('active')) {
                        item.classList.remove('active');
                        slideUp(answer, 300);
                    } else {
                        item.classList.add('active');
                        slideDown(answer, 300);
                    }
                });
            });

            function slideUp(element, duration) {
                element.style.height = element.offsetHeight + "px";
                element.style.transitionProperty = "height, margin, padding";
                element.style.transitionDuration = duration + "ms";
                element.style.boxSizing = "border-box";
                element.offsetHeight; 
                element.style.overflow = "hidden";
                element.style.height = 0;
                element.style.paddingTop = 0;
                element.style.paddingBottom = 0;
                element.style.marginTop = 0;
                element.style.marginBottom = 0;
                window.setTimeout(function () {
                    element.style.display = "none";
                    element.style.removeProperty("height");
                    element.style.removeProperty("padding-top");
                    element.style.removeProperty("padding-bottom");
                    element.style.removeProperty("margin-top");
                    element.style.removeProperty("margin-bottom");
                    element.style.removeProperty("overflow");
                    element.style.removeProperty("transition-duration");
                    element.style.removeProperty("transition-property");
                }, duration);
            }

            function slideDown(element, duration) {
                element.style.removeProperty("display");
                let display = window.getComputedStyle(element).display;
                if (display === "none") display = "block";
                element.style.display = display;
                let height = element.offsetHeight;
                element.style.height = 0;
                element.style.paddingTop = 0;
                element.style.paddingBottom = 0;
                element.style.marginTop = 0;
                element.style.marginBottom = 0;
                element.style.overflow = "hidden";
                element.offsetHeight;
                element.style.transitionProperty = "height, margin, padding";
                element.style.transitionDuration = duration + "ms";
                element.style.height = height + "px";
                element.style.removeProperty("padding-top");
                element.style.removeProperty("padding-bottom");
                element.style.removeProperty("margin-top");
                element.style.removeProperty("margin-bottom");
                window.setTimeout(function () {
                    element.style.removeProperty("height");
                    element.style.removeProperty("overflow");
                    element.style.removeProperty("transition-duration");
                    element.style.removeProperty("transition-property");
                }, duration);
            }
        });
    </script>
}